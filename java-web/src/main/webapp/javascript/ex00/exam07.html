<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>exam</title>
</head>
<body>

  <h1>7. JSON과 동적 UI</h1>
  <div>
    <table id="ta1" border="1">
      <thead>
        <th>번호</th>
        <th>제목</th>
        <th>조회수</th>
        <th>등록일</th>
      </thead>
      <tbody>
        
      </tbody>
    </table>
  </div>
  <button id="btn1">데이터 가져오기</button>
  
<script>
var tag1 = document.getElementById("btn1");

tag1.onclick = function() {
  var xhr = new XMLHttpRequest;
  xhr.open("GET", "exam07.jsp", false);
  xhr.send();
  var arr = JSON.parse(xhr.responseText);
  var trList = "";
  for (var item of arr) {
    trList += "<tr><td>" + item.no + "</td>" +
              "<td>" + item.title + "</td>" +
              "<td>" + item.viewCount + "</td>" +
              "<td>" + item.createdDate + "</td></tr>\n"
  }
  var tag2 = document.querySelector("#ta1 > tbody");
  tag2.innerHTML = trList;
};

</script>
</body>
</html>